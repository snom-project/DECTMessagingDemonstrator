(function(t){let s=null,o=null,n=null,e=null,a=null,r=null,l=!1;t.fn.autoRefresher=function(u){function c(){l||(l=!0,a.css({transition:f.seconds+"s linear"}),a.width("100%"),r=window.setTimeout(function(){a.css({transition:""}),t.isFunction(f.callback)&&f.callback()},1e3*f.seconds))}function i(){l&&(l=!1,a.css({transition:""}),a.width("0%"),window.clearTimeout(r))}let f=t.extend({},t.fn.autoRefresher.defaults,u);(!Number.isInteger(f.seconds)||f.seconds<=0)&&(console.log("autoRefresher.options.seconds must be a positive integer. Switching to default value"),f.seconds=t.fn.autoRefresher.defaults.seconds),t.isFunction(f.callback)||(console.log("autoRefresher.options.callback must be a function.  Switching to default function"),f.callback=t.fn.autoRefresher.defaults.callback),null!==f.startButtonClass&&0!==f.startButtonClass.trim().length||(f.startButtonClass=t.fn.autoRefresher.defaults.startButtonClass),null!==f.stopButtonClass&&0!==f.stopButtonClass.trim().length||(f.stopButtonClass=t.fn.autoRefresher.defaults.stopButtonClass),s=t(this),s.on("stop",function(){i()}),s.on("start",function(){c()}),s.hasClass("auto-refresher")||s.addClass("auto-refresher"),f.showControls&&(n=t("<button />").attr({type:"button",class:f.stopButtonClass}).html(f.stopButtonInner).appendTo(s),n.on("click",function(){i()}),o=t("<button />").attr({type:"button",class:f.startButtonClass}).html(f.startButtonInner).appendTo(s),o.on("click",function(){c()})),null===e&&(e=t("<div />").attr({class:"auto-refresher-container"}).css({height:f.progressBarHeight}).css({"background-color":f.backgroundColor}).appendTo(s)),null===a&&(a=t("<span />").attr({class:"auto-refresher-progress-bar"}).css({"background-color":f.foregroundColor}).appendTo(e)),c()},t.fn.autoRefresher.defaults={seconds:300,callback:function(){location.reload()},showControls:!0,progressBarHeight:"7px",stopButtonClass:"auto-refresher-button",stopButtonInner:"Stop",startButtonClass:"auto-refresher-button",startButtonInner:"Start",backgroundColor:"#6c757d",foregroundColor:"#007bff"}})(jQuery);